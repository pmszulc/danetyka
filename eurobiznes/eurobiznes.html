<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Gdzie stawiać hotele w Eurobiznesie</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="eurobiznes_files/libs/clipboard/clipboard.min.js"></script>
<script src="eurobiznes_files/libs/quarto-html/quarto.js"></script>
<script src="eurobiznes_files/libs/quarto-html/popper.min.js"></script>
<script src="eurobiznes_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="eurobiznes_files/libs/quarto-html/anchor.min.js"></script>
<link href="eurobiznes_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="eurobiznes_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="eurobiznes_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="eurobiznes_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="eurobiznes_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Gdzie stawiać hotele w Eurobiznesie</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell">

</div>
<p>O zastosowaniu metody Monte Carlo już pisałem, gdy analizowałem <a href="https://danetyka.com/statystyka-w-data-science/jak-dlugo-trzeba-grac-w-wojne/">oczekiwany czas gry w wojnę</a>. Weźmy teraz Eurobiznes. Są ludzie, którzy grali w Monopol, a są tacy, co grali w Eurobiznes.</p>
<p>W przeciwieństwie do wojny, która jest grą czysto losową, Eurobiznes zdecydowanie taki nie jest. Jeśli tak Wam się zdaje, zaryzykuję stwierdzenie, że graliście w to źle ;) Moja strategia była bardzo prosta: kupuj wszystko, co się da. Jak nie masz pieniędzy, dawaj posiadłości pod zastaw i kupuj dalej. Po pewnym czasie, gdy będziesz mieć więcej kart, zacznij negocjacje z przeciwnikami (wymiana kart).</p>
<p>Wiem, że niektórzy grali w Eurobiznes bez negocjacji. Wtedy ta gra jest dla mnie pozbawiona sensu i rzeczywiście jest prawie losowa i beznadziejnie długa. “Beznadziejnie” dlatego, że jest mała szansa, by zwyczajnie poruszając się po planszy, udało się komuś skompletować całe państwo — a tylko stawiając domy i hotele, można tę grę skończyć. Umożliwiając wymianę kart (sprzedaż, wymianę z dopłatą itp.), bardzo mocno redukujemy losowość i wygrywa osoba o większych zdolnościach negocjacyjnych (w skrócie: trzeba przekonać przeciwnika, że dana wymiana mu się opłaca, mimo że tak nie jest).</p>
<p>(W praktyce niestety bywa tak, że jeśli gra się któryś raz z tymi osobami i Ty często wygrywasz, to na wszelki wypadek nikt nie chce się z Tobą wymieniać…).</p>
<p>Skoro eurobiznes to gra negocjacyjna, to trzeba mieć dobry obraz tego, ile warte są poszczególne posiadłości. Składa się na to wiele czynników: koszt postawienia domu, zysk z domów i hoteli, ale też prawdopodobieństwo, że ktoś zatrzyma się w danym mieście. I w tym wpisie zajmę się tym ostatnim.</p>
<section id="plansza" class="level2">
<h2 class="anchored" data-anchor-id="plansza">Plansza</h2>
<p><img src="eurobiznes_plansza.jpg" class="img-fluid"></p>
<p>Najpierw przypomnijmy sobie, jak wygląda plansza. Składa się z 40 pól numerowanych od 1 (“Start”) do 40 (“Wiedeń”). Mamy jedno pole, które zmienia położenie (31, “Idziesz do więzienia”) i sześć, które potencjalnie zmieniają położenie (karty szans: 16 niebieskich i 16 czerwonych). Będziemy je dalej nazywać polami specjalnymi.</p>
<p>I zacznijmy od tego, że gdyby nie te pola, sprawa byłaby bardzo prosta. Na każdym zatrzymywalibyśmy się z takim samym prawdopodobieństwem, także końcowy rozkład byłby jednostajny (minimalne rozbieżności mogłyby wynikać z tego, że zawsze zaczynamy na polu 1).</p>
<p>Dodajmy jeszcze, że jeśli w wyniku rzutu kostkami otrzymamy na obu taką samą liczbę oczek (dubel), rzucamy jeszcze raz, przemieszczając się o tyle pól, ile w sumie wypadło oczek w obu rzutach. Jeśli jednak ponownie coś takiego się wydarzy, idziemy do więzienia, czyli na pole 11.</p>
</section>
<section id="metoda-monte-carlo" class="level2">
<h2 class="anchored" data-anchor-id="metoda-monte-carlo">Metoda Monte Carlo</h2>
<p>Jak policzyć prawdopodobieństwa zatrzymania się na poszczególnych polach? Możemy rzucać kostką i zapisywać, gdzie stanęliśmy. Jeśli się uprzemy i zrobimy to naprawdę dużo razy, szukane prawdopodobieństwa otrzymamy, dzieląc liczbę przypadków zatrzymania się na danym polu przez liczbę wszystkich rzutów. To jest istota metody Monte Carlo. Chodzi tylko o to, by zamiast samemu rzucać kostką, zmusić do tego komputer.</p>
<p>Napiszmy pseudokod, który coś takiego zrealizuje. Dla prostoty będziemy grali sami ze sobą, gdyż interakcje między graczami i tak nie zmieniają położenia.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ustaw się na polu "start"</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># powtarzaj N razy:</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#    rzuć dwiema kostkami</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">#    jeśli liczba oczek nie jest taka sama, przesuń się o ich sumę</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">#    w przeciwnym wypadku rzuć jeszcze raz</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">#       jeśli liczba oczek nie jest taka sama, przesuń się o sumę z obu rzutów</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">#       w przeciwnym wypadku idziesz do "więzienia"</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">#    jeśli jesteś na polu specjalnym, z pewnym prawdopodobieństwem zmień pozycję</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">#    zapamiętaj, w jakim polu się znalazłeś</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="wersja-uproszczona" class="level2">
<h2 class="anchored" data-anchor-id="wersja-uproszczona">Wersja uproszczona</h2>
<p>Zacznijmy jednak od uproszczonej wersji, która nie będzie uwzględniać pól specjalnych, a jedynie to, że wyrzucając dwukrotnie dubla, idziemy do więzienia. Wykonałem 10 milionów rzutów, poniżej szacowane prawdopodobieństwa, że staniemy na poszczególnych polach.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="unnamed-chunk-3-1.png" class="img-fluid figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Zastanówmy się, czy ma to sens. Jak napisałem, gdyby wyrzucenie podwójnego dubla nie skutkowało pójściem do więzienia (pole 11), rozkład powinien być jednostajny. Ponieważ prawdopodobieństwo tego jest niewielkie, obserwowany rozkład (poza więzieniem) rzeczywiście przypomina jednostajny. A dalej, skoro na polu 11 stajemy częściej, to pola odległe o około 7 oczek (najbardziej prawdopodobna suma dwóch rzutów) są trochę popularniejsze.</p>
<p>Czy to, że więzienie odwiedzamy około dwa razy częściej, da się wyjaśnić? Prawdopodobieństwo wyrzucenia tego samego na obu kostkach wynosi 1/6, w takim razie z prawdopodobieństwem 1/36 stanie się to dwa razy z rzędu. Z kolei prawdopodobieństwo stanięcia na dowolnym polu wynosi 1/40, czyli dla więzienia 1/36+1/40, więc ponad dwa razy więcej (jest to przybliżony wynik, gdyż podając wartość 1/40, założyłem brak więzienia).</p>
</section>
<section id="pola-specjalne" class="level2">
<h2 class="anchored" data-anchor-id="pola-specjalne">Pola specjalne</h2>
<p>Uwzględnijmy teraz pola specjalne. Mamy pole 31, z którego zawsze idziemy do więzienia, oprócz tego w polach 3, 18 i 34 bierzemy niebieską kartę szansy, natomiast w polach 8, 23 i 37 czerwoną. Wśród niebieskich kart istnieją trzy zmieniające położenie: “Wracasz na start” (tzn. na pole 1), “Idziesz do więzienia” (11), “Idziesz do Wiednia” (40). Wśród czerwonych kart mamy siedem zmieniających położenie: “Wracasz na start” (1), “Idziesz do Neapolu” (7), “Idziesz do więzienia” (11), “Wracasz do Madrytu” (15), “Wracasz do Brukseli” (24), “Idziesz do Kolei Wschodnich” (36), “Cofasz się o trzy pola”.</p>
<p>Możemy zatem założyć, że jeśli trafimy na pole z niebieską kartą, z prawdopodobieństwem 13/16 nie zmienimy położenia, natomiast z prawdopodobieństwami 1/16 przesuniemy się na pole 1, 11 lub 40. Podobnie w przypadku czerwonej karty: z prawdopodobieństwem 9/16 nie zmienimy położenia, z prawdopodobieństwami 1/16 przesuniemy się na pole 1, 7, 11, 15, 24, 36 lub cofniemy się o trzy pola.</p>
<p>Poniżej uzyskany rozkład. Tym razem zaznaczyłem na czerwono pola, w których bierzemy czerwoną kartę, analogicznie z niebieskimi.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="unnamed-chunk-4-1.png" class="img-fluid figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Wykres zmienił się wyraźnie. Jest znacznie większe ryzyko, że pójdziemy do więzienia, a na niektórych polach zatrzymujemy się rzadziej. Częściowo wynika to z przyjętej przeze mnie konwencji, że jeśli zmieniamy pole (bo np. idziemy do więzienia), nie zatrzymujemy się na nim. Stąd czerwone słupki są znacznie krótsze od pozostałych, a na polu “Idziesz do więzienia” nie da się zatrzymać.</p>
</section>
<section id="wnioski" class="level2">
<h2 class="anchored" data-anchor-id="wnioski">Wnioski</h2>
<p>Poza więzieniem, najpopularniejszym polem jest to o numerze 20, czyli Londyn, kolejnym “Start” i Bruksela. Sumując prawdopodobieństwa, najczęściej staje się w Anglii (8,8%), potem w Beneluksie (8,6%) i Szwecji (7,9%). Najrzadziej w Grecji (4,2%) i Austrii (4,6%). To potwierdza nasze dziecięce obserwacje, że najcenniejsze są nieruchomości w Anglii (zawsze chcieliśmy się za nie wymieniać). Są tańsze od Beneluksu (200$ za dom, w Beneluksie 300$), a trochę częściej tam się wchodzi. Za zatrzymanie w hotelu w Londynie płaci się 2000$ i dwa takie wejścia zwykle wystarczą, by ktoś zbankrutował.</p>
<p>Austria oczywiście kompletnie się nie opłaca. Małe prawdopodobieństwo, że ktoś tam się zatrzyma (co głównie wynika z tego, że są to tylko dwa pola, ale nie tylko), a domki bardzo drogie (400$). Co prawda za postój w hotelu w Wiedniu trzeba zapłacić aż 4000$, ale to jest niepotrzebnie dużo (tzn. wystarczą tańsze hotele, żeby wygrać grę). Wejście do Grecji jest jeszcze mniej prawdopodobne, ale tam z kolei domki są za darmo (100$), także dla mnie była to lepsza inwestycja, szczególnie w początkowej fazie gry.</p>
</section>
<section id="czy-gracz-nie-ma-wpływu-na-zmianę-pozycji" class="level2">
<h2 class="anchored" data-anchor-id="czy-gracz-nie-ma-wpływu-na-zmianę-pozycji">Czy gracz nie ma wpływu na zmianę pozycji?</h2>
<p>Takie symulacje są proste do wykonania, o ile zmiana pozycji gracza jest czysto losowa (zależy tylko od wyniku rzutu kostką). W Eurobiznesie tak jest, prawda? Otóż nie do końca… Spójrzcie na poniższą kartę.</p>
<p><img src="eurobiznes_karta.jpg" class="img-fluid"></p>
<p>Od Ciebie zależy, co zrobisz. Jeśli zapłacisz 20$, nie zmienisz położenia, ale jeśli wybierzesz kartę z drugiego zestawu, to z prawdopodobieństwem 7/16 przejdziesz na inne pole.</p>
<p>Od razu mówię, że w swoich symulacjach zignorowałem tę możliwość. Ma ona znikomy wpływ na szacowane prawdopodobieństwa, a ponieważ zależy od gracza, nie byłoby to łatwe do modelowania.</p>
</section>
<section id="kącik-teoretyczny" class="level2">
<h2 class="anchored" data-anchor-id="kącik-teoretyczny">Kącik teoretyczny</h2>
<p>Czy metoda Monte Carlo, którą tu próbuję sprzedać, aby na pewno zwraca poprawne wyniki? Jaką mamy pewność, że to, co otrzymaliśmy, to prawdziwe prawdopodobieństwa? Wynika to z tak zwanego Prawa Wielkich Liczb. Liczone przeze mnie proporcje dla konkretnego pola to nic innego jak średnia arytmetyczna <span class="math inline">\(\frac{x_1+\ldots+x_N}{N}\)</span>, gdzie <span class="math inline">\(x_i\)</span> są równe 1, gdy w <span class="math inline">\(i\)</span>-tym ruchu zatrzymaliśmy się na danym polu, oraz 0, gdy nie. Nie wnikając w szczegóły, Prawo Wielkich Liczb mówi, że wraz ze zwiększającym się <span class="math inline">\(N\)</span>, taka średnia arytmetyczna dąży do “prawidłowej” wartości (<em>wartości oczekiwanej</em>, w tym przypadku rzeczywistej proporcji/prawdopodobieństwa).</p>
<p>Ktoś jeszcze bardziej dociekliwy mógłby jednak zadać pytanie, czy zaobserwowane różnice w częstości nie są przypadkowe? Czy 10 milionów symulacji to wystarczająco dużo? Żeby to policzyć, można wykorzystać inne twierdzenie statystyki matematycznej, Centralne Twierdzenie Graniczne. Ale można też użyć znacznie prostszej metody, “na Janusza” (wybaczcie). Uruchamiamy cały kod (który swoją drogą jest dostępny tutaj) jeszcze raz (tzn. dla innego ziarna generatora losowego) i widzimy, że dostajemy praktycznie identyczny wykres — a w takim razie nie ma sensu zwiększać liczby symulacji. Ktoś kręci nosem? To niech uruchomi kolejny raz, aż zrozumie.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>